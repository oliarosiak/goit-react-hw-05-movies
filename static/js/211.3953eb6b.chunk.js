"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[211],{18:function(t,e,r){r.d(e,{Ku:function(){return h},Pg:function(){return l},fI:function(){return m},z1:function(){return y},zD:function(){return p}});var n=r(5861),u=r(7757),a=r.n(u),c=r(1243),o="https://api.themoviedb.org/3",i="184232349777783127dd9be9cacf5c3e",s="trending/movie/day";function p(){return f.apply(this,arguments)}function f(){return(f=(0,n.Z)(a().mark((function t(){var e,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.Z.get("".concat(o,"/").concat(s,"?api_key=").concat(i));case 3:return e=t.sent,r=e.data,t.abrupt("return",r);case 8:return t.prev=8,t.t0=t.catch(0),console.error(t.t0),t.abrupt("return",[]);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function l(t){return v.apply(this,arguments)}function v(){return(v=(0,n.Z)(a().mark((function t(e){var r,n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.Z.get("".concat(o,"/movie/").concat(e,"?api_key=").concat(i));case 3:return r=t.sent,n=r.data,t.abrupt("return",n);case 8:return t.prev=8,t.t0=t.catch(0),console.error(t.t0),t.abrupt("return",[]);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function h(t){return d.apply(this,arguments)}function d(){return(d=(0,n.Z)(a().mark((function t(e){var r,n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.Z.get("".concat(o,"/movie/").concat(e,"/credits?api_key=").concat(i));case 3:return r=t.sent,n=r.data,t.abrupt("return",n);case 8:return t.prev=8,t.t0=t.catch(0),console.error(t.t0),t.abrupt("return",[]);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function m(t){return x.apply(this,arguments)}function x(){return(x=(0,n.Z)(a().mark((function t(e){var r,n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.Z.get("".concat(o,"/movie/").concat(e,"/reviews?language=en-US&page=1&api_key=").concat(i));case 3:return r=t.sent,n=r.data,t.abrupt("return",n);case 8:return t.prev=8,t.t0=t.catch(0),console.error(t.t0),t.abrupt("return",[]);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function y(t){return b.apply(this,arguments)}function b(){return(b=(0,n.Z)(a().mark((function t(e){var r,n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.Z.get("".concat(o,"/search/movie?query=").concat(e,"&include_adult=false&api_key=").concat(i));case 3:return r=t.sent,n=r.data,t.abrupt("return",n);case 8:return t.prev=8,t.t0=t.catch(0),console.error(t.t0),t.abrupt("return",[]);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}},839:function(t,e,r){var n=r(9856),u=r(184);e.Z=function(){return(0,u.jsx)("div",{children:(0,u.jsx)(n.Nx,{width:"200",color:"#4fa94d"})})}},8589:function(t,e,r){var n=r(1087),u=r(184);e.Z=function(t){var e=t.movies,r=t.location;return(0,u.jsx)("ul",{children:e.map((function(t){var e=t.id,a=t.title;return(0,u.jsx)(n.Link,{to:"/movies/".concat(e),state:{from:r},children:a},e)}))})}},6211:function(t,e,r){r.r(e),r.d(e,{default:function(){return l}});var n=r(9439),u=r(2791),a=r(1087),c=r(7689),o=r(18),i=r(184),s=function(t){var e=t.onSubmit;return(0,i.jsxs)("form",{onSubmit:e,children:[(0,i.jsx)("button",{type:"submit",children:"search"}),(0,i.jsx)("input",{name:"query",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Enter movie name"})]})},p=r(8589),f=r(839),l=function(){var t,e=(0,a.useSearchParams)(),r=(0,n.Z)(e,2),l=r[0],v=r[1],h=null!==(t=l.get("userInput"))&&void 0!==t?t:"",d=(0,u.useState)([]),m=(0,n.Z)(d,2),x=m[0],y=m[1],b=(0,c.TH)();return(0,u.useEffect)((function(){h&&(0,o.z1)(h).then((function(t){var e=t.results;y(e)}))}),[h]),(0,i.jsxs)("div",{children:[(0,i.jsx)(s,{onSubmit:function(t){t.preventDefault();var e=t.currentTarget,r=e.query.value;if(""===r.trim())return alert("need movie name"),void e.reset();v({userInput:r}),e.reset()}}),(0,i.jsx)(p.Z,{movies:x,location:b}),(0,i.jsx)(u.Suspense,{fallback:(0,i.jsx)(f.Z,{}),children:(0,i.jsx)(c.j3,{})})]})}}}]);
//# sourceMappingURL=211.3953eb6b.chunk.js.map