{"version":3,"file":"static/js/211.3953eb6b.chunk.js","mappings":"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","sources":["api/moviesApi.js","components/loader/Loader.jsx","components/movieList/MoviesList.jsx","components/searchMovieForm/MovieForm.jsx","pages/MoviePage.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = '184232349777783127dd9be9cacf5c3e';\nconst defaultSettings = 'trending/movie/day';\n\nexport async function trendMoviesApi() {\n  try {\n    const { data } = await axios.get(\n      `${BASE_URL}/${defaultSettings}?api_key=${API_KEY}`\n    );\n    return data;\n  } catch (error) {\n    console.error(error);\n    return [];\n  }\n}\n\nexport async function getMovieById(id) {\n  try {\n    const { data } = await axios.get(\n      `${BASE_URL}/movie/${id}?api_key=${API_KEY}`\n    );\n    return data;\n  } catch (error) {\n    console.error(error);\n    return [];\n  }\n}\n\nexport async function getCastById(id) {\n  try {\n    const { data } = await axios.get(\n      `${BASE_URL}/movie/${id}/credits?api_key=${API_KEY}`\n    );\n    return data;\n  } catch (error) {\n    console.error(error);\n    return [];\n  }\n}\n\nexport async function getReviewsById(id) {\n  try {\n    const { data } = await axios.get(\n      `${BASE_URL}/movie/${id}/reviews?language=en-US&page=1&api_key=${API_KEY}`\n    );\n    return data;\n  } catch (error) {\n    console.error(error);\n    return [];\n  }\n}\n\nexport async function searchMovies(query) {\n  try {\n    const { data } = await axios.get(\n      `${BASE_URL}/search/movie?query=${query}&include_adult=false&api_key=${API_KEY}`\n    );\n    return data;\n  } catch (error) {\n    console.error(error);\n    return [];\n  }\n}\n","import { InfinitySpin } from 'react-loader-spinner';\n// import css from './Loader.module.css';\n\nconst Loader = () => (\n  <div>\n    <InfinitySpin width=\"200\" color=\"#4fa94d\" />\n  </div>\n);\n\nexport default Loader;\n","import { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nconst MoviesList = ({ movies, location }) => (\n  <ul>\n    {movies.map(({ id, title }) => (\n      <Link key={id} to={`/movies/${id}`} state={{ from: location }}>\n        {title}\n      </Link>\n    ))}\n  </ul>\n);\n\nMoviesList.propTypes = {\n  movies: PropTypes.arrayOf(PropTypes.object).isRequired,\n  location: PropTypes.object.isRequired,\n};\n\nexport default MoviesList;\n","import PropTypes from 'prop-types';\n\nconst MovieForm = ({ onSubmit }) => (\n  <form onSubmit={onSubmit}>\n    <button type=\"submit\">search</button>\n    <input\n      name=\"query\"\n      type=\"text\"\n      autoComplete=\"off\"\n      autoFocus\n      placeholder=\"Enter movie name\"\n    />\n  </form>\n);\n\nMovieForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default MovieForm;\n","import { Suspense, useEffect, useState } from 'react';\nimport { Outlet, useSearchParams, useLocation } from 'react-router-dom';\nimport { searchMovies } from '../api/moviesApi.js';\nimport MovieForm from 'components/searchMovieForm/MovieForm.jsx';\nimport MoviesList from 'components/movieList/MoviesList.jsx';\nimport Loader from 'components/loader/Loader.jsx';\n\nconst MoviePage = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const userInput = searchParams.get('userInput') ?? '';\n  const [findingMovies, setFindingMovies] = useState([]);\n  const location = useLocation();\n\n  const formHandler = event => {\n    event.preventDefault();\n    const form = event.currentTarget;\n    const query = form.query.value;\n\n    if (query.trim() === '') {\n      alert('need movie name');\n      form.reset();\n      return;\n    }\n\n    setSearchParams({ userInput: query });\n    form.reset();\n  };\n\n  useEffect(() => {\n    if (!userInput) {\n      return;\n    }\n    searchMovies(userInput).then(data => {\n      const { results } = data;\n      setFindingMovies(results);\n    });\n  }, [userInput]);\n\n  return (\n    <div>\n      <MovieForm onSubmit={formHandler} />\n      <MoviesList movies={findingMovies} location={location} />\n\n      <Suspense fallback={<Loader />} >\n        <Outlet />\n      </Suspense>\n    </div>\n  );\n};\n\nexport default MoviePage;\n"],"names":["BASE_URL","API_KEY","defaultSettings","trendMoviesApi","axios","data","console","error","getMovieById","id","getCastById","getReviewsById","searchMovies","query","width","color","movies","location","map","title","Link","to","state","from","onSubmit","type","name","autoComplete","autoFocus","placeholder","useSearchParams","searchParams","setSearchParams","userInput","get","useState","findingMovies","setFindingMovies","useLocation","useEffect","then","results","event","preventDefault","form","currentTarget","value","trim","alert","reset","MoviesList","Suspense","fallback","Loader"],"sourceRoot":""}